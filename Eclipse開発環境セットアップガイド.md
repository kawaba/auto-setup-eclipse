# Eclipse 開発環境 自動セットアップガイド

## 📌 このツールについて

このツールは、Javaプログラミングに必要な開発環境を**自動的に**セットアップします。

### セットアップされる内容

1. **Eclipse 2025-09** - プログラムを書くためのソフトウェア(統合開発環境)
2. **JDK 25** - Javaプログラムを動かすために必要なソフトウェア
3. **日本語化** - Eclipseのメニューなどを日本語にします
4. **開発用プラグイン** - Spring Bootなどの便利な機能を追加します
5. **GitHub Copilot** - AIがプログラミングを手伝ってくれる機能
6. **見やすい設定** - フォントや色を読みやすく設定します

---

## 🖥️ 必要な環境

- **OS**: Windows 10 または Windows 11
- **インターネット接続**: セットアップ時に必要です(約2GB程度ダウンロードします)
- **ディスク容量**: 約5GB以上の空き容量
- **権限**: 管理者権限は不要ですが、PowerShellスクリプトの実行許可が必要です

---

## 📁 ファイル構成

セットアップに使用するファイルはeclipse-2025フォルダにあります:

| ファイル名 | 説明 |
|-----------|------|
| `setup.bat` | Eclipseとその基本設定をインストールするファイル(初心者向け) |
| `setup.ps1` | 実際のセットアップ処理を行うファイル |
| `plugins.bat` | プラグインをインストールするファイル(初心者向け) |
| `plugins.ps1` | 実際のプラグインインストール処理を行うファイル |
| `font-color-compiler-java25.epf` | フォントや色の設定ファイル |

> **💡 補足**: `.bat`ファイルはダブルクリックで実行できる簡単なファイルです。`.ps1`ファイルは実際の処理を行う本体です。

---

## 🚀 セットアップ手順

### ステップ1: 基本インストール

1. **ダウンロードしたauto-setup-eclipse-2025.zipを任意の場所に展開します**
   - `C:\work`や`D:\temp`などを推奨します
   - `work`や`temp`などのフォルダを作ってから展開するといいでしょう

2. **`eclipse-2025/setup.bat`をダブルクリック**
   - 黒い画面(コマンドプロンプト)が開きます
   - 自動的にダウンロードとインストールが始まります
   - **所要時間**: 約5〜15分(インターネット速度による)

3. **完了メッセージを確認**
   ```
   === セットアップ完了! ===
   Eclipse を eclipse/eclipse.exe から起動してください。
   
   次に: install-plugins.bat を実行してプラグインをインストールしてください。
   ```
   - この表示が出たら、何かキーを押して画面を閉じます

---

### ステップ2: 初回起動(重要!)

> **⚠️ 重要**: プラグインをインストールする前に、必ずこの手順を実行してください。

1. **Eclipseを起動**
   - `eclipse-2025`フォルダ内に作成された`eclipse`フォルダを開きます
   - `eclipse.exe`をダブルクリックします

2. **ワークスペースの選択**
   - 「Eclipseランチャー」という画面が表示されます
   - 「ワークスペース」の入力欄に以下を入力:
     ```
     ../workspace
     ```
   - `[起動]`ボタンをクリックします

3. **Eclipseが完全に起動するのを待つ**
   - ようこそ画面や日本語化されたメニューが表示されます
   - **何も操作せず**、そのままEclipseを終了します
   - メニューから`ファイル` → `終了`を選択

> **💡 なぜこの手順が必要?**: 初回起動時に設定ファイルが作成されます。これがないとプラグインのインストールに失敗します。

---

### ステップ3: プラグインのインストール

1. **`eclipse-2025/plugins.bat`をダブルクリック**
   - 黒い画面が開き、重要な確認メッセージが表示されます

2. **確認メッセージを読む**
   ```
   重要: Eclipseを一度起動して終了しましたか?
   (初回起動で設定ファイルが作成されます)
   
   はい [Y] / いいえ [N]
   ```
   - ステップ2を完了していたら`Y`と入力してEnterキーを押します
   - まだの場合は`N`と入力し、ステップ2に戻ります

3. **インストール開始**
   - 自動的に以下のプラグインがインストールされます:
     - Web開発ツール
     - Spring Tools 4(Spring Boot開発用)
     - GitHub Copilot(AI支援)
     - Java 25サポート
   - **所要時間**: 約5〜10分

4. **インストール結果を確認**
   ```
   ============================================
   インストール完了
   ============================================
   成功: 13 個
   失敗: 0 個
   ```
   - すべて成功していれば、次のステップに進みます
   - 一部失敗している場合は、`plugin-install.log`ファイルを確認します

5. **自動クリーンアップ**
   - 「何かキーを押すと...クリーンアップを実行します」と表示されます
   - キーを押すと、一時ファイルやスクリプトが自動的に削除されます
   - 最終的に`eclipse`フォルダと`workspace`フォルダだけが残ります

---

### ステップ4: フォント・色の設定

1. **Eclipseを起動**
   - `eclipse/eclipse.exe`をダブルクリック
   - ワークスペースは`../workspace`と入力(前回と同じ)

2. **設定のインポート**
   - メニューから`ファイル` → `インポート`を選択
   - `一般` → `設定`を選び、`[次へ]`をクリック

3. **設定ファイルを選択**
   - `[参照]`ボタンをクリック
   - `eclipse/font-color-compiler-java25.epf`を選択
   - `[開く]`をクリック

4. **インポートを実行**
   - `[完了]`ボタンをクリック
   - 「再起動が必要」というメッセージが表示されます
   - `[再開]`をクリックしてEclipseを再起動

5. **設定完了!**
   - 再起動後、フォントが見やすく、構文の色分けが設定されています

---

## ✅ セットアップ完了後の確認

セットアップを確認したい場合は次のようにしてください:

### 1. 日本語化の確認
- メニューが日本語になっていますか?
- `ファイル`、`編集`、`表示`などと表示されていればOK

### 2. Javaバージョンの確認
- メニュー: `ヘルプ` → `Eclipseについて` → `インストール詳細`
- Java 25が使用されているか確認

### 3. Spring Toolsの確認
- メニュー: `ヘルプ` → `Eclipseマーケットプレース`で「Spring」と検索
- すでにインストール済みと表示されればOK

### 4. GitHub Copilotの確認
- メニュー: `ウィンドウ` → `設定` → `GitHub Copilot`
- 設定項目が表示されればOK(ログインは別途必要)

---

## 🔧 トラブルシューティング

### Q1. 「このシステムではスクリプトの実行が無効になっています」と表示される

**原因**: PowerShellのセキュリティ設定

**解決方法**:
1. PowerShellを**管理者として実行**
2. 以下のコマンドを入力:
   ```powershell
   Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
   ```
3. `Y`を入力してEnter
4. もう一度`setup.bat`を実行

---

### Q2. ダウンロードが途中で止まる・失敗する

**原因**: インターネット接続の問題、またはファイアウォール

**解決方法**:
1. インターネット接続を確認
2. ファイアウォールやウイルス対策ソフトを一時的に無効化
3. 企業ネットワークの場合、プロキシ設定が必要な場合があります
4. `temp`フォルダを削除してから再実行

---

### Q3. プラグインのインストールに失敗する

**原因**: Eclipseを一度も起動していない、またはネットワーク問題

**解決方法**:
1. **必ずステップ2(初回起動)を実行済みか確認**
2. `plugin-install.log`ファイルでエラー内容を確認
3. Eclipseが完全に終了しているか確認(タスクマネージャーで確認)
4. 再度`plugins.bat`を実行

---

### Q4. Eclipseが起動しない・エラーが出る

**原因**: Javaの設定問題、またはファイルの破損

**解決方法**:
1. `eclipse/eclipse.ini`ファイルが正しく書き換えられているか確認
2. `temp`フォルダを削除して、最初からやり直す
3. アンチウイルスソフトがファイルを削除していないか確認

---

### Q5. 日本語が表示されない

**原因**: Pleiades(日本語化プラグイン)の問題

**解決方法**:
1. `eclipse/plugins`フォルダ内に`jp.sourceforge.mergedoc.pleiades`があるか確認
2. `eclipse/eclipse.ini`の最後に以下の行があるか確認:
   ```
   -javaagent:plugins/jp.sourceforge.mergedoc.pleiades/pleiades.jar
   ```
3. ない場合は手動で追加して再起動

---

## 📝 補足情報

### ワークスペースについて

**ワークスペースとは?**
- プロジェクト(作成したプログラム)を保存する場所です
- 推奨: `../workspace`(Eclipseフォルダと同じ階層)

**複数のワークスペースを使う場合**
- 初回に`../workspace-project1`などと指定
- 後から変更も可能: `ファイル` → `ワークスペースの切り替え`

---

### GitHub Copilotを使うには

GitHub Copilotはインストールされていますが、使用するには:

1. **GitHubアカウントが必要**
   - 学生は無料で使用可能(GitHub Student Developer Pack)
   - それ以外は有料プラン($10/月)

2. **ログイン方法**
   - Eclipse起動後、`ウィンドウ` → `設定` → `GitHub Copilot`
   - `Sign in`ボタンでGitHubにログイン

---

### フォント設定について

設定ファイル(`font-color-compiler-java25.epf`)では以下が設定されます:

- **フォント**: UDデジタル教科書体 N (読みやすいフォント)
- **サイズ**: 14.25ポイント
- **構文の色分け**: Javaコードが見やすく色分けされます
- **コンパイラ**: Java 25用に設定

> **💡 ヒント**: フォントが表示されない場合、システムにフォントがインストールされていません。`メイリオ`や`MS ゴシック`に変更してください。

---

### バックアップとアンインストール

**バックアップ**
- `workspace`フォルダをコピーすれば、作成したプロジェクトを保存できます

**アンインストール**
- Eclipseはインストーラーを使わないので、フォルダごと削除すればOKです
- 削除するフォルダ: `eclipse`と`workspace`

---

## 🎓 次のステップ

セットアップが完了したら、以下を試してみましょう:

1. **新しいJavaプロジェクトを作成**
   - `ファイル` → `新規` → `Javaプロジェクト`

2. **Spring Bootプロジェクトを作成**
   - `ファイル` → `新規` → `Spring スターター・プロジェクト`

3. **GitHub Copilotを試す**
   - Javaファイルでコメントを書くと、AIがコードを提案してくれます

---

## 📞 サポート・参考資料

### 公式ドキュメント

- **Eclipse公式**: https://www.eclipse.org/
- **Spring公式**: https://spring.io/
- **GitHub Copilot**: https://github.com/features/copilot

### よくある質問

**Q: セットアップにどのくらい時間がかかりますか?**
A: 合計で約15〜30分程度です(インターネット速度による)

**Q: 既存のEclipseがある場合はどうすればいいですか?**
A: このツールは別フォルダにインストールされるので、既存の環境には影響しません

**Q: エラーが出て進めません**
A: `plugin-install.log`の内容を確認するか、最初からやり直してみてください

---

## 📌 まとめ

このセットアップツールを使えば、面倒な設定作業なしで、すぐにJava・Spring Boot開発を始められます!

**セットアップの流れ(おさらい)**:
1. ✅ `setup.bat`を実行 → Eclipse本体をインストール
2. ✅ Eclipseを一度起動して終了 → 設定ファイル作成
3. ✅ `plugins.bat`を実行 → 開発用プラグインをインストール
4. ✅ Eclipseで設定をインポート → フォント・色を設定
5. 🎉 完了!

---

**最終更新**: 2025年11月
**対象バージョン**: Eclipse 2025-09 / JDK 25 / Spring Tools 4
